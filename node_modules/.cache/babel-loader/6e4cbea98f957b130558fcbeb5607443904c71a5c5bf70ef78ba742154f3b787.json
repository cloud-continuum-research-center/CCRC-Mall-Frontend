{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport router from \"@/scripts/router\";\nexport default {\n  data() {\n    return {\n      formData: {\n        name: \"\",\n        image: null,\n        description: \"\",\n        price: 0,\n        category_id: 1\n      },\n      previewImage: null\n    };\n  },\n  methods: {\n    handleImageUpload(event) {\n      this.formData.image = event.target.files[0];\n      if (this.formData.image) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.previewImage = reader.result;\n        };\n        reader.readAsDataURL(this.formData.image);\n      }\n    },\n    submitForm() {\n      axios.post(\"/api/items/\", this.formData).then(response => {\n        console.log(\"상품이 성공적으로 등록되었습니다:\", response.data);\n        window.alert('상품이 성공적으로 등록되었습니다.');\n        router.push({\n          path: '/'\n        });\n      }).catch(error => {\n        console.error(\"상품 등록에 실패했습니다:\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","router","data","formData","name","image","description","price","category_id","previewImage","methods","handleImageUpload","event","target","files","reader","FileReader","onload","result","readAsDataURL","submitForm","post","then","response","console","log","window","alert","push","path","catch","error"],"sources":["C:\\Users\\boo\\icns\\shop\\front-end\\src\\pages\\ItemRegistration.vue"],"sourcesContent":["<!-- views/ItemRegistration.vue -->\r\n\r\n<template>\r\n    <div class=\"item-registration\">\r\n        <h1>상품 등록 페이지</h1>\r\n\r\n        <!-- 상품 등록 폼 -->\r\n        <form @submit.prevent=\"submitForm\" class=\"item-form\">\r\n            <div class=\"form-group\">\r\n                <label for=\"itemName\" class=\"form-label\">상품명</label>\r\n                <input type=\"text\" id=\"itemName\" v-model=\"formData.name\" class=\"form-control\" required />\r\n            </div>\r\n            <!--\r\n            <div class=\"form-group\">\r\n                <label for=\"itemImage\" class=\"form-label\">이미지 URL</label>\r\n                <input type=\"text\" id=\"itemImage\" v-model=\"formData.image\" class=\"form-control\" required />\r\n            </div>\r\n        -->\r\n            <div class=\"form-group\">\r\n                <label for=\"itemImage\" class=\"form-label\">이미지 업로드</label>\r\n                <input type=\"file\" id=\"itemImage\" @change=\"handleImageUpload\" class=\"form-control\" required />\r\n                <img v-if=\"previewImage\" :src=\"previewImage\" alt=\"Preview\" class=\"preview-image\">\r\n                <span v-if=\"previewImage\">미리보기</span>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"itemDescription\" class=\"form-label\">상품 설명</label>\r\n                <textarea id=\"itemDescription\" v-model=\"formData.description\" class=\"form-control\" required></textarea>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"itemPrice\" class=\"form-label\">가격</label>\r\n                <input type=\"number\" id=\"itemPrice\" v-model=\"formData.price\" class=\"form-control\" required />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"itemCategory\" class=\"form-label\">카테고리</label>\r\n                <select id=\"itemCategory\" v-model=\"formData.category_id\" class=\"form-select\" required>\r\n                    <option value=\"1\">책상</option>\r\n                    <option value=\"2\">침대</option>\r\n                    <option value=\"3\">의자</option>\r\n                </select>\r\n            </div>\r\n\r\n            <button type=\"submit\" class=\"btn btn-primary\">등록하기</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport router from \"@/scripts/router\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            formData: {\r\n                name: \"\",\r\n                image: null,\r\n                description: \"\",\r\n                price: 0,\r\n                category_id: 1,\r\n            },\r\n            previewImage: null\r\n        };\r\n    },\r\n    methods: {\r\n        handleImageUpload(event) {\r\n            this.formData.image = event.target.files[0];\r\n            if (this.formData.image) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => {\r\n                    this.previewImage = reader.result;\r\n                };\r\n                reader.readAsDataURL(this.formData.image);\r\n            }\r\n        },\r\n        submitForm() {\r\n            axios.post(\"/api/items/\", this.formData).then((response) => {\r\n                console.log(\"상품이 성공적으로 등록되었습니다:\", response.data);\r\n                window.alert('상품이 성공적으로 등록되었습니다.');\r\n                router.push({ path: '/' });\r\n            }).catch((error) => {\r\n                console.error(\"상품 등록에 실패했습니다:\", error);\r\n            });\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.item-registration {\r\n    max-width: 600px;\r\n    margin: auto;\r\n}\r\n\r\n.item-form {\r\n    margin-top: 20px;\r\n}\r\n\r\n.form-group {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.preview-image {\r\n    max-width: 100%;\r\n    height: auto;\r\n    margin-top: 10px;\r\n}\r\n</style>"],"mappings":";AAkDA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,kBAAkB;AAErC,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE;QACNC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAE;MACjB,CAAC;MACDC,YAAY,EAAE;IAClB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,iBAAiBA,CAACC,KAAK,EAAE;MACrB,IAAI,CAACT,QAAQ,CAACE,KAAI,GAAIO,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC3C,IAAI,IAAI,CAACX,QAAQ,CAACE,KAAK,EAAE;QACrB,MAAMU,MAAK,GAAI,IAAIC,UAAU,CAAC,CAAC;QAC/BD,MAAM,CAACE,MAAK,GAAI,MAAM;UAClB,IAAI,CAACR,YAAW,GAAIM,MAAM,CAACG,MAAM;QACrC,CAAC;QACDH,MAAM,CAACI,aAAa,CAAC,IAAI,CAAChB,QAAQ,CAACE,KAAK,CAAC;MAC7C;IACJ,CAAC;IACDe,UAAUA,CAAA,EAAG;MACTpB,KAAK,CAACqB,IAAI,CAAC,aAAa,EAAE,IAAI,CAAClB,QAAQ,CAAC,CAACmB,IAAI,CAAEC,QAAQ,IAAK;QACxDC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,QAAQ,CAACrB,IAAI,CAAC;QAChDwB,MAAM,CAACC,KAAK,CAAC,oBAAoB,CAAC;QAClC1B,MAAM,CAAC2B,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAI,CAAC,CAAC;MAC9B,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;QAChBP,OAAO,CAACO,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MAC1C,CAAC,CAAC;IACN;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}