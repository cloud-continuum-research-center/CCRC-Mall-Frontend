{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { reactive, onMounted, ref } from \"vue\";\nimport { useRoute } from 'vue-router';\nimport Review from \"@/components/Review.vue\";\nimport Rendering from \"@/components/Rendering.vue\";\nimport router from \"@/scripts/router\";\nexport default {\n  name: \"ProductDetail\",\n  components: {\n    Review,\n    Rendering\n  },\n  data() {\n    return {\n      img_star: \"/icon/star.png\",\n      img_right: \"/icon/right.png\",\n      img_left: \"/icon/left.png\",\n      img_avatar1: \"/avatar/avatar1.png\",\n      img_avatar2: \"/avatar/avatar2.png\",\n      img_avatar3: \"/avatar/avatar3.png\",\n      img_avatar4: \"/avatar/avatar4.png\",\n      img_share: \"/icon/share.png\"\n    };\n  },\n  setup() {\n    const route = useRoute();\n    const productId = route.params.id;\n    const state = reactive({\n      product: {}\n    });\n    const itemImg = ref(null);\n    const isPopupVisible = ref(false);\n    const isOrderModalVisible = ref(false);\n    const orderItem = () => {\n      isOrderModalVisible.value = true;\n    };\n    const placeOrder = () => {\n      // 여기에 주문 처리 로직을 추가\n      window.alert('상품을 주문하였습니다!');\n      // 주문 완료 후 홈 화면으로 리다이렉트\n      router.push('/');\n    };\n    const closeOrderModal = () => {\n      isOrderModalVisible.value = false;\n    };\n    const openPopup = () => {\n      isPopupVisible.value = true;\n    };\n    const closePopup = () => {\n      isPopupVisible.value = false;\n    };\n\n    //const modelUrl = \"https://huggingface.co/datasets/dylanebert/3dgs/resolve/main/bonsai/bonsai-7k.splat\";\n    const modelUrl = \"/point_cloud.ply\";\n    onMounted(() => {\n      axios.get(`/api/items/${productId}`).then(({\n        data\n      }) => {\n        state.product = data;\n      }).catch(error => {\n        console.error(\"Error fetching product:\", error);\n      });\n      const imgSrc = `/api/items/${productId}/image`;\n      itemImg.value = imgSrc;\n    });\n    return {\n      state,\n      itemImg,\n      orderItem,\n      isOrderModalVisible,\n      placeOrder,\n      closeOrderModal,\n      modelUrl,\n      openPopup,\n      closePopup,\n      isPopupVisible\n    };\n  }\n};","map":{"version":3,"names":["axios","reactive","onMounted","ref","useRoute","Review","Rendering","router","name","components","data","img_star","img_right","img_left","img_avatar1","img_avatar2","img_avatar3","img_avatar4","img_share","setup","route","productId","params","id","state","product","itemImg","isPopupVisible","isOrderModalVisible","orderItem","value","placeOrder","window","alert","push","closeOrderModal","openPopup","closePopup","modelUrl","get","then","catch","error","console","imgSrc"],"sources":["C:\\Users\\boo\\icns\\shop\\front-end\\src\\pages\\ProductDetail.vue"],"sourcesContent":["<template>\r\n\r\n\r\n  <div class=\"productdetail-layout\">\r\n\r\n\r\n    <div class=\"product-card\">\r\n\r\n\r\n      <!-- Product Image Block -->\r\n      <div class=\"product-image-block\">\r\n        <img class=\"product-image\" :src=\"itemImg\" />\r\n\r\n        <div class=\"product-image-block-top\">\r\n\r\n\r\n          <button class=\"product-image-block-top-button1\">\r\n            <img :src=\"img_left\" class=\"img-left\">\r\n          </button>\r\n\r\n          <button class=\"product-image-block-top-button2\">\r\n            <img :src=\"img_share\" class=\"img-share\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      <!-- Product Info -->\r\n      <div class=\"product-info-block\">\r\n\r\n        <div class=\"heading\">\r\n          <div class=\"product-category-and-name\">\r\n            <div class=\"category-name\">카테고리</div>\r\n            <div class=\"product-name\">상품명</div>\r\n          </div>\r\n          <div class=\"product-price\">$상품가격</div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <div class=\"product-info-middle-container\">\r\n          <div class=\"Reviews\">\r\n            <div class=\"Frame14\">\r\n              <div class=\"Rating\">\r\n                <div class=\"Starts\">\r\n                  <div class=\"FluentStar24Filled\"></div>\r\n                  <div class=\"FluentStar24Filled\"></div>\r\n                  <div class=\"FluentStar24Filled\"></div>\r\n                  <div class=\"FluentStar24Filled\"></div>\r\n                  <div class=\"FluentStar24Filled\"></div>\r\n                </div>\r\n                <div class=\"RatingNumber\">4.4</div>\r\n              </div>\r\n              <div class=\"Link\">\r\n                <div class=\"ReviewCount\">12 reviews</div>\r\n                <div class=\"FluentArrowRight24Filled\"></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"Avatars\">\r\n              <img class=\"UnsplashMxrfbyxwdy4\" src=\"https://via.placeholder.com/32x32\" />\r\n              <img class=\"Unsplash6rruaqtwt60\" src=\"https://via.placeholder.com/32x32\" />\r\n              <img class=\"UnsplashNsze2hlxozo\" src=\"https://via.placeholder.com/32x32\" />\r\n              <img class=\"UnsplashF8iuhoidtbi\" src=\"https://via.placeholder.com/32x32\" />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <button class=\"order-button\">주문하기</button>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <div class=\"tab-buttons\">\r\n          <button class=\"button-tab-now\">Description</button>\r\n          <button class=\"button-tab-ma\">Materials</button>\r\n          <button class=\"button-tab-ca\">Care instructions</button>\r\n        </div>\r\n        <div class=\"description\">\r\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Urna, nibh faucibus sed accumsan. Neque, risus ipsum\r\n          facilisi augue nibh sollicitudin. Platea habitasse nunc arcu mi molestie auctor cursus pharetra neque. Eu non\r\n          vel, arcu pulvinar dapibus condimentum eleifend morbi. Blandit tempor lorem morbi accumsan. Eget cursus\r\n          sollicitudin felis velit elementum. Integer id adipiscing sit ac. Suspendisse nibh tellus morbi augue nulla\r\n          urna semper hendrerit. Nibh scelerisque suspendisse tristique porttitor enim at bibendum duis porttitor.\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    <div class=\"similar-products\">\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  <br><br><br>\r\n  <br><br><br><br><br><br>\r\n\r\n  <div class=\"product-detail\">\r\n    <!-- 상품 상세 정보 -->\r\n    <div v-if=\"state.product\">\r\n      <h2>{{ state.product.name }}</h2>\r\n      <p class=\"description\">Description: {{ state.product.description }}</p>\r\n      <p class=\"price\">Price: {{ state.product.price }}</p>\r\n\r\n      <!-- 이미지 -->\r\n      <div class=\"itemImg\">\r\n        <img :src=\"itemImg\" alt=\"Product Image\">\r\n      </div>\r\n      <!-- 비디오 -->\r\n      <video v-if=\"state.product.video\" controls style=\"max-width: 100%;\">\r\n        <source :src=\"state.product.video\" type=\"video/mp4\">\r\n        Your browser does not support the video tag.\r\n      </video>\r\n\r\n    </div>\r\n\r\n    <div v-else>\r\n      <p>Loading...</p>\r\n    </div>\r\n    <button @click=\"orderItem\" class=\"btn btn-primary\">주문하기</button>\r\n    <button @click=\"openPopup\" class=\"btn btn-secondary\">3D로 보기</button>\r\n\r\n    <!-- 주문 확인 모달 -->\r\n    <div v-if=\"isOrderModalVisible\" class=\"modal-overlay\">\r\n      <div class=\"modal-content\">\r\n        <h3>주문 확인</h3>\r\n        <p>상품을 주문하시겠습니까?</p>\r\n        <button @click=\"placeOrder\" class=\"btn btn-primary\">확인</button>\r\n        <button @click=\"closeOrderModal\" class=\"btn btn-secondary\">취소</button>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div v-if=\"isPopupVisible\" class=\"popup-overlay\">\r\n      <div class=\"popup-content\">\r\n        <button @click=\"closePopup\" class=\"close-btn\">X</button>\r\n        <Rendering :url=\"modelUrl\" />\r\n      </div>\r\n    </div>\r\n\r\n    <Review :productId=\"state.product.id\" />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { reactive, onMounted, ref } from \"vue\";\r\nimport { useRoute } from 'vue-router';\r\nimport Review from \"@/components/Review.vue\";\r\nimport Rendering from \"@/components/Rendering.vue\";\r\nimport router from \"@/scripts/router\";\r\n\r\nexport default {\r\n  name: \"ProductDetail\",\r\n  components: { Review, Rendering },\r\n  data() {\r\n    return {\r\n      img_star: \"/icon/star.png\",\r\n      img_right: \"/icon/right.png\",\r\n      img_left: \"/icon/left.png\",\r\n      img_avatar1: \"/avatar/avatar1.png\",\r\n      img_avatar2: \"/avatar/avatar2.png\",\r\n      img_avatar3: \"/avatar/avatar3.png\",\r\n      img_avatar4: \"/avatar/avatar4.png\",\r\n      img_share: \"/icon/share.png\",\r\n\r\n    };\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n    const productId = route.params.id;\r\n\r\n    const state = reactive({\r\n      product: {},\r\n    });\r\n    const itemImg = ref(null);\r\n\r\n    const isPopupVisible = ref(false);\r\n    const isOrderModalVisible = ref(false);\r\n\r\n    const orderItem = () => {\r\n      isOrderModalVisible.value = true;\r\n    };\r\n\r\n    const placeOrder = () => {\r\n      // 여기에 주문 처리 로직을 추가\r\n      window.alert('상품을 주문하였습니다!');\r\n      // 주문 완료 후 홈 화면으로 리다이렉트\r\n      router.push('/');\r\n    };\r\n\r\n    const closeOrderModal = () => {\r\n      isOrderModalVisible.value = false;\r\n    };\r\n\r\n    const openPopup = () => {\r\n      isPopupVisible.value = true;\r\n    };\r\n\r\n    const closePopup = () => {\r\n      isPopupVisible.value = false;\r\n    };\r\n\r\n\r\n    //const modelUrl = \"https://huggingface.co/datasets/dylanebert/3dgs/resolve/main/bonsai/bonsai-7k.splat\";\r\n    const modelUrl = \"/point_cloud.ply\";\r\n\r\n    onMounted(() => {\r\n      axios.get(`/api/items/${productId}`)\r\n        .then(({ data }) => {\r\n          state.product = data;\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error fetching product:\", error);\r\n        });\r\n      const imgSrc = `/api/items/${productId}/image`;\r\n      itemImg.value = imgSrc;\r\n\r\n    });\r\n\r\n    return { state, itemImg, orderItem, isOrderModalVisible, placeOrder, closeOrderModal, modelUrl, openPopup, closePopup, isPopupVisible };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import '../assets/css/pages/productdetail.css'\r\n</style>\r\n"],"mappings":";AAsNA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,EAAEC,GAAE,QAAS,KAAK;AAC9C,SAASC,QAAO,QAAS,YAAY;AACrC,OAAOC,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,MAAK,MAAO,kBAAkB;AAErC,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IAAEJ,MAAM;IAAEC;EAAU,CAAC;EACjCI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,gBAAgB;MAC1BC,SAAS,EAAE,iBAAiB;MAC5BC,QAAQ,EAAE,gBAAgB;MAC1BC,WAAW,EAAE,qBAAqB;MAClCC,WAAW,EAAE,qBAAqB;MAClCC,WAAW,EAAE,qBAAqB;MAClCC,WAAW,EAAE,qBAAqB;MAClCC,SAAS,EAAE;IAEb,CAAC;EACH,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIhB,QAAQ,CAAC,CAAC;IACxB,MAAMiB,SAAQ,GAAID,KAAK,CAACE,MAAM,CAACC,EAAE;IAEjC,MAAMC,KAAI,GAAIvB,QAAQ,CAAC;MACrBwB,OAAO,EAAE,CAAC;IACZ,CAAC,CAAC;IACF,MAAMC,OAAM,GAAIvB,GAAG,CAAC,IAAI,CAAC;IAEzB,MAAMwB,cAAa,GAAIxB,GAAG,CAAC,KAAK,CAAC;IACjC,MAAMyB,mBAAkB,GAAIzB,GAAG,CAAC,KAAK,CAAC;IAEtC,MAAM0B,SAAQ,GAAIA,CAAA,KAAM;MACtBD,mBAAmB,CAACE,KAAI,GAAI,IAAI;IAClC,CAAC;IAED,MAAMC,UAAS,GAAIA,CAAA,KAAM;MACvB;MACAC,MAAM,CAACC,KAAK,CAAC,cAAc,CAAC;MAC5B;MACA1B,MAAM,CAAC2B,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,MAAMC,eAAc,GAAIA,CAAA,KAAM;MAC5BP,mBAAmB,CAACE,KAAI,GAAI,KAAK;IACnC,CAAC;IAED,MAAMM,SAAQ,GAAIA,CAAA,KAAM;MACtBT,cAAc,CAACG,KAAI,GAAI,IAAI;IAC7B,CAAC;IAED,MAAMO,UAAS,GAAIA,CAAA,KAAM;MACvBV,cAAc,CAACG,KAAI,GAAI,KAAK;IAC9B,CAAC;;IAGD;IACA,MAAMQ,QAAO,GAAI,kBAAkB;IAEnCpC,SAAS,CAAC,MAAM;MACdF,KAAK,CAACuC,GAAG,CAAE,cAAalB,SAAU,EAAC,EAChCmB,IAAI,CAAC,CAAC;QAAE9B;MAAK,CAAC,KAAK;QAClBc,KAAK,CAACC,OAAM,GAAIf,IAAI;MACtB,CAAC,EACA+B,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;MACJ,MAAME,MAAK,GAAK,cAAavB,SAAU,QAAO;MAC9CK,OAAO,CAACI,KAAI,GAAIc,MAAM;IAExB,CAAC,CAAC;IAEF,OAAO;MAAEpB,KAAK;MAAEE,OAAO;MAAEG,SAAS;MAAED,mBAAmB;MAAEG,UAAU;MAAEI,eAAe;MAAEG,QAAQ;MAAEF,SAAS;MAAEC,UAAU;MAAEV;IAAe,CAAC;EACzI;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}