{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7afa3188\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"review\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"상품 리뷰\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0,\n  class: \"review-list\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"리뷰 목록\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"list-group\"\n};\nconst _hoisted_6 = {\n  class: \"d-flex justify-content-between align-items-center\"\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"등록된 리뷰가 없습니다.\", -1 /* HOISTED */));\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"1\\\" data-v-7afa3188>1 Star</option><option value=\\\"2\\\" data-v-7afa3188>2 Stars</option><option value=\\\"3\\\" data-v-7afa3188>3 Stars</option><option value=\\\"4\\\" data-v-7afa3188>4 Stars</option><option value=\\\"5\\\" data-v-7afa3188>5 Stars</option>\", 5);\nconst _hoisted_15 = [_hoisted_10];\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"리뷰 등록하기\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" 리뷰 목록 \"), $setup.state.reviews && $setup.state.reviews.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"ul\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.state.reviews, (review, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      class: \"list-group-item\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", null, \"별점: \" + _toDisplayString(review.star) + \" Stars\", 1 /* TEXT */), _createElementVNode(\"div\", null, \"내용: \" + _toDisplayString(review.content), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [..._hoisted_9])), _createCommentVNode(\" 리뷰 작성 폼 \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.submitReview && $setup.submitReview(...args), [\"prevent\"])),\n    class: \"review-form\"\n  }, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.state.reviewData.content = $event),\n    class: \"form-control\",\n    placeholder: \"리뷰 작성란\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.state.reviewData.content]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.state.reviewData.star = $event),\n    class: \"form-select\"\n  }, [..._hoisted_15], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.state.reviewData.star]]), _hoisted_16], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_8","_createStaticVNode","_hoisted_10","type","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","$setup","state","reviews","length","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","review","index","_hoisted_6","_toDisplayString","star","content","_hoisted_7","_hoisted_9","onSubmit","_cache","_withModifiers","args","submitReview","$event","reviewData","placeholder","_hoisted_15","_hoisted_16"],"sources":["C:\\Users\\boo\\icns\\shop\\front-end\\src\\components\\Review.vue"],"sourcesContent":["<template>\r\n  <div class=\"review\">\r\n    <h2>상품 리뷰</h2>\r\n\r\n\r\n\r\n    <!-- 리뷰 목록 -->\r\n    <div v-if=\"state.reviews && state.reviews.length > 0\" class=\"review-list\">\r\n      <h3>리뷰 목록</h3>\r\n      <ul class=\"list-group\">\r\n        <li v-for=\"(review, index) in state.reviews\" :key=\"index\" class=\"list-group-item\">\r\n          <div class=\"d-flex justify-content-between align-items-center\">\r\n            <div>별점: {{ review.star }} Stars</div>\r\n            <div>내용: {{ review.content }}</div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div v-else>\r\n      <p>등록된 리뷰가 없습니다.</p>\r\n    </div>\r\n\r\n\r\n        <!-- 리뷰 작성 폼 -->\r\n        <form @submit.prevent=\"submitReview\" class=\"review-form\">\r\n      <textarea v-model=\"state.reviewData.content\" class=\"form-control\" placeholder=\"리뷰 작성란\"></textarea>\r\n      <select v-model=\"state.reviewData.star\" class=\"form-select\">\r\n        <option value=\"1\">1 Star</option>\r\n        <option value=\"2\">2 Stars</option>\r\n        <option value=\"3\">3 Stars</option>\r\n        <option value=\"4\">4 Stars</option>\r\n        <option value=\"5\">5 Stars</option>\r\n      </select>\r\n      <button type=\"submit\" class=\"btn btn-primary\">리뷰 등록하기</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { reactive } from \"vue\";\r\n\r\nexport default {\r\n  name: \"Review\",\r\n  props: {\r\n    productId: {}\r\n  },\r\n  setup(props) {\r\n    const state = reactive({\r\n      reviews: [],\r\n      reviewData: {\r\n        content: \"\",\r\n        star: 0,\r\n        user_id: 1,\r\n        item_id: props.productId,\r\n      }\r\n    });\r\n\r\n    const submitReview = () => {\r\n      const productId = props.productId;\r\n      state.reviewData.item_id = productId;\r\n      axios.post(`/api/items/${productId}/reviews/`, state.reviewData).then((response) => {\r\n        console.log(\"리뷰가 성공적으로 등록되었습니다:\", response.data);\r\n        window.alert('리뷰가 성공적으로 등록되었습니다.');\r\n        fetchReviews();\r\n      }).catch((error) => {\r\n        console.error(\"리뷰 등록에 실패했습니다:\", error);\r\n      });\r\n    };\r\n\r\n    const fetchReviews = () => {\r\n      const productId = props.productId;\r\n      axios.get(`/api/items/${productId}/reviews/`).then(response => {\r\n        state.reviews = response.data;\r\n      });\r\n    };\r\n\r\n    return { state, submitReview, fetchReviews };\r\n  },\r\n  watch: {\r\n    productId() {\r\n      if (this.productId) {\r\n        this.fetchReviews();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.review {\r\n  margin-top: 50px;\r\n}\r\n\r\n.review h2 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.review-form {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.review-list {\r\n  margin-top: 20px;\r\n}\r\n\r\n.review-list .list-group-item {\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAQ;gEACjBC,mBAAA,CAAc,YAAV,OAAK;;EAFbC,GAAA;EAO0DF,KAAK,EAAC;;gEAC1DC,mBAAA,CAAc,YAAV,OAAK;;EACLD,KAAK,EAAC;AAAY;;EAEbA,KAAK,EAAC;AAAmD;;EAXxEE,GAAA;AAAA;gEAmBMD,mBAAA,CAAoB,WAAjB,eAAa;oBAAhBE,UAAoB,C;iCAnB1BC,kBAAA;qBA2BQC,WAAiC,C;iEAMnCJ,mBAAA,CAA8D;EAAtDK,IAAI,EAAC,QAAQ;EAACN,KAAK,EAAC;GAAkB,SAAO;;uBAhCzDO,mBAAA,CAkCM,OAlCNC,UAkCM,GAjCJC,UAAc,EAIdC,mBAAA,WAAc,EACHC,MAAA,CAAAC,KAAK,CAACC,OAAO,IAAIF,MAAA,CAAAC,KAAK,CAACC,OAAO,CAACC,MAAM,Q,cAAhDP,mBAAA,CAUM,OAVNQ,UAUM,GATJC,UAAc,EACdf,mBAAA,CAOK,MAPLgB,UAOK,I,kBANHV,mBAAA,CAKKW,SAAA,QAfbC,WAAA,CAUsCR,MAAA,CAAAC,KAAK,CAACC,OAAO,EAVnD,CAUoBO,MAAM,EAAEC,KAAK;yBAAzBd,mBAAA,CAKK;MALyCL,GAAG,EAAEmB,KAAK;MAAErB,KAAK,EAAC;QAC9DC,mBAAA,CAGM,OAHNqB,UAGM,GAFJrB,mBAAA,CAAsC,aAAjC,MAAI,GAAAsB,gBAAA,CAAGH,MAAM,CAACI,IAAI,IAAG,QAAM,iBAChCvB,mBAAA,CAAmC,aAA9B,MAAI,GAAAsB,gBAAA,CAAGH,MAAM,CAACK,OAAO,iB;uDAKlClB,mBAAA,CAEM,OApBVmB,UAAA,MAAAC,UAAA,KAuBQjB,mBAAA,aAAgB,EAChBT,mBAAA,CAUG;IAVI2B,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAxBrBC,cAAA,KAAAC,IAAA,KAwB+BpB,MAAA,CAAAqB,YAAA,IAAArB,MAAA,CAAAqB,YAAA,IAAAD,IAAA,CAAY;IAAE/B,KAAK,EAAC;sBAC7CC,mBAAA,CAAkG;IAzBxG,uBAAA4B,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAyByBtB,MAAA,CAAAC,KAAK,CAACsB,UAAU,CAACT,OAAO,GAAAQ,MAAA;IAAEjC,KAAK,EAAC,cAAc;IAACmC,WAAW,EAAC;iDAA3DxB,MAAA,CAAAC,KAAK,CAACsB,UAAU,CAACT,OAAO,E,mBAC3CxB,mBAAA,CAMS;IAhCf,uBAAA4B,MAAA,QAAAA,MAAA,MAAAI,MAAA,IA0BuBtB,MAAA,CAAAC,KAAK,CAACsB,UAAU,CAACV,IAAI,GAAAS,MAAA;IAAEjC,KAAK,EAAC;KA1BpD,IAAAoC,WAAA,2B,gBA0BuBzB,MAAA,CAAAC,KAAK,CAACsB,UAAU,CAACV,IAAI,E,GAOtCa,WAA8D,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}