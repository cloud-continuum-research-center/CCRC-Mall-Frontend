{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { reactive, onMounted, ref } from \"vue\";\nimport { useRoute } from 'vue-router';\nimport Review from \"@/components/Review.vue\";\nimport Rendering from \"@/components/Rendering.vue\";\nimport router from \"@/scripts/router\";\nimport { categories } from \"@/scripts/categories\";\nimport SimilarCard from \"@/components/SimilarCard.vue\";\nexport default {\n  name: \"ProductDetail\",\n  components: {\n    Review,\n    Rendering,\n    SimilarCard\n  },\n  data() {\n    return {\n      img_star: \"/icon/star.png\",\n      img_star_no_color: \"/icon/star_no_color.png\",\n      img_right: \"/icon/right.png\",\n      img_left: \"/icon/left.png\",\n      img_avatar1: \"/avatar/avatar1.png\",\n      img_avatar2: \"/avatar/avatar2.png\",\n      img_avatar3: \"/avatar/avatar3.png\",\n      img_avatar4: \"/avatar/avatar4.png\",\n      img_share: \"/icon/share.png\"\n    };\n  },\n  setup() {\n    const route = useRoute();\n    const productId = route.params.id;\n    const state = reactive({\n      product: {},\n      similarProducts: []\n    });\n    const itemImg = ref(null);\n    const isPopupVisible = ref(false);\n    const isOrderModalVisible = ref(false);\n    const orderItem = () => {\n      isOrderModalVisible.value = true;\n    };\n    const placeOrder = () => {\n      window.alert('상품을 주문하였습니다!');\n      router.push('/');\n    };\n    const closeOrderModal = () => {\n      isOrderModalVisible.value = false;\n    };\n    const openPopup = () => {\n      isPopupVisible.value = true;\n    };\n    const closePopup = () => {\n      isPopupVisible.value = false;\n    };\n    const formatPrice = price => {\n      if (!price) return '';\n      return price.toLocaleString(\"ko-KR\") + \"원\";\n    };\n    const getCategoryName = categoryId => {\n      const category = categories.find(cat => cat.id === categoryId);\n      return category ? category.name : \"Unknown Category\";\n    };\n\n    //const modelUrl = \"https://huggingface.co/datasets/dylanebert/3dgs/resolve/main/bonsai/bonsai-7k.splat\";\n    const modelUrl = \"/point_cloud.ply\";\n    onMounted(() => {\n      axios.get(`/api/items/${productId}`).then(({\n        data\n      }) => {\n        state.product = data;\n        getSimilarProducts(data.category_id);\n      }).catch(error => {\n        console.error(\"Error fetching product:\", error);\n      });\n      const imgSrc = `/api/items/${productId}/image`;\n      itemImg.value = imgSrc;\n    });\n    const getSimilarProducts = categoryId => {\n      axios.get(`/api/items/category/${categoryId}`).then(({\n        data\n      }) => {\n        state.similarProducts = data;\n        console.log(\"data\", data);\n        console.log(\"state.similarProducts\", state.similarProducts);\n      }).catch(error => {\n        console.error(\"Error fetching similar products:\", error);\n      });\n    };\n    return {\n      state,\n      itemImg,\n      orderItem,\n      isOrderModalVisible,\n      placeOrder,\n      closeOrderModal,\n      modelUrl,\n      openPopup,\n      closePopup,\n      isPopupVisible,\n      formatPrice,\n      getCategoryName\n    };\n  }\n};","map":{"version":3,"names":["axios","reactive","onMounted","ref","useRoute","Review","Rendering","router","categories","SimilarCard","name","components","data","img_star","img_star_no_color","img_right","img_left","img_avatar1","img_avatar2","img_avatar3","img_avatar4","img_share","setup","route","productId","params","id","state","product","similarProducts","itemImg","isPopupVisible","isOrderModalVisible","orderItem","value","placeOrder","window","alert","push","closeOrderModal","openPopup","closePopup","formatPrice","price","toLocaleString","getCategoryName","categoryId","category","find","cat","modelUrl","get","then","getSimilarProducts","category_id","catch","error","console","imgSrc","log"],"sources":["C:\\Users\\boo\\icns\\shop\\front-end\\src\\pages\\ProductDetail.vue"],"sourcesContent":["<template>\r\n\r\n\r\n  <div class=\"productdetail-layout\">\r\n\r\n    <div class=\"product-card\">\r\n      <!-- Product Image Block -->\r\n      <div class=\"product-image-block\">\r\n        <img class=\"product-image\" :src=\"itemImg\" />\r\n        <div class=\"product-image-block-top\">\r\n          <button class=\"product-image-block-top-button1\">\r\n            <img :src=\"img_left\" class=\"img-left\">\r\n          </button>\r\n          <button class=\"product-image-block-top-button2\">\r\n            <img :src=\"img_share\" class=\"img-share\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- Product Info -->\r\n      <div class=\"product-info-block\">\r\n        <!-- Product Info Header -->\r\n        <div class=\"heading\">\r\n          <div class=\"product-category-and-name\">\r\n            <div class=\"category-name\">{{ getCategoryName(state.product.category_id) }}</div>\r\n            <div class=\"product-name\">{{ state.product.name }}</div>\r\n          </div>\r\n          <div class=\"product-price\">\\ {{ formatPrice(state.product.price) }}</div>\r\n        </div>\r\n        <!-- Product Info Middle Container -->\r\n        <div class=\"product-info-middle-container\">\r\n          <div class=\"review-star-container\">\r\n            <div class=\"rating-and-review-block\">\r\n              <div class=\"rating-container\">\r\n                <div class=\"star-container\">\r\n                  <img class=\"star-1\" :src=\"img_star\">\r\n                  <img class=\"star-2\" :src=\"img_star\">\r\n                  <img class=\"star-3\" :src=\"img_star\">\r\n                  <img class=\"star-4\" :src=\"img_star\">\r\n                  <img class=\"star-5\" :src=\"img_star_no_color\">\r\n                </div>\r\n                <div class=\"rating-number\">4.4</div>\r\n              </div>\r\n              <div class=\"review-number-container\">\r\n                <div class=\"review-number\">12 reviews</div>\r\n                <img class=\"review-number-arrow\" :src=\"img_right\">\r\n              </div>\r\n            </div>\r\n            <div class=\"avatars\">\r\n              <img class=\"UnsplashMxrfbyxwdy4\" :src=\"img_avatar1\" />\r\n              <img class=\"Unsplash6rruaqtwt60\" :src=\"img_avatar2\" />\r\n              <img class=\"UnsplashNsze2hlxozo\" :src=\"img_avatar3\" />\r\n              <img class=\"UnsplashF8iuhoidtbi\" :src=\"img_avatar4\" />\r\n            </div>\r\n          </div>\r\n          <!-- Ordering -->\r\n          <button @click=\"orderItem\" class=\"order-button\">주문하기</button>\r\n          <div v-if=\"isOrderModalVisible\" class=\"order-modal-overlay\">\r\n            <div class=\"order-modal-content\">\r\n              <h3>주문 확인</h3>\r\n              <p>상품을 주문하시겠습니까?</p>\r\n              <button @click=\"placeOrder\" class=\"btn btn-primary\">확인</button>\r\n              <button @click=\"closeOrderModal\" class=\"btn btn-secondary\">취소</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <!-- Product Info Lower Container -->\r\n        <div class=\"product-info-lower-container\">\r\n          <div class=\"tab-buttons\">\r\n            <button class=\"tab-buttons-text Description\">Description</button>\r\n            <button class=\"tab-buttons-text Materials\">Materials</button>\r\n            <button class=\"tab-buttons-text CareInstructions\">Care instructions</button>\r\n          </div>\r\n          <div class=\"tab-content\">\r\n            {{state.product.description}}\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Urna, nibh faucibus sed accumsan. Neque, risus\r\n            ipsum facilisi augue nibh sollicitudin. Platea habitasse nunc arcu mi molestie auctor cursus pharetra neque.\r\n            Eu non vel, arcu pulvinar dapibus condimentum eleifend morbi. Blandit tempor lorem morbi accumsan. Eget\r\n            cursus sollicitudin felis velit elementum. Integer id adipiscing sit ac. Suspendisse nibh tellus morbi augue\r\n            nulla urna semper hendrerit. Nibh scelerisque suspendisse tristique porttitor enim at bibendum duis\r\n            porttitor.\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <button @click=\"openPopup\" class=\"btn btn-secondary\">3D로 보기</button>\r\n    <div v-if=\"isPopupVisible\" class=\"popup-overlay\">\r\n      <div class=\"popup-content\">\r\n        <button @click=\"closePopup\" class=\"close-btn\">X</button>\r\n        <Rendering :url=\"modelUrl\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Similar Products Container -->\r\n    <div class=\"similar-products\">\r\n      <div class=\"similar-products-header\">\r\n        <div class=\"similar-products-title\">Similar products</div>\r\n      </div>\r\n      <div class=\"similar-products-card-container\">\r\n        <div class=\"col\" v-for=\"(item, idx) in state.similarProducts.slice(0, 4)\" :key=\"idx\">\r\n          <SimilarCard :item=\"item\" />\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <Review :productId=\"state.product.id\" />\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { reactive, onMounted, ref } from \"vue\";\r\nimport { useRoute } from 'vue-router';\r\nimport Review from \"@/components/Review.vue\";\r\nimport Rendering from \"@/components/Rendering.vue\";\r\nimport router from \"@/scripts/router\";\r\nimport { categories } from \"@/scripts/categories\";\r\n\r\nimport SimilarCard from \"@/components/SimilarCard.vue\";\r\n\r\nexport default {\r\n  name: \"ProductDetail\",\r\n  components: { Review, Rendering, SimilarCard },\r\n  data() {\r\n    return {\r\n      img_star: \"/icon/star.png\",\r\n      img_star_no_color: \"/icon/star_no_color.png\",\r\n      img_right: \"/icon/right.png\",\r\n      img_left: \"/icon/left.png\",\r\n      img_avatar1: \"/avatar/avatar1.png\",\r\n      img_avatar2: \"/avatar/avatar2.png\",\r\n      img_avatar3: \"/avatar/avatar3.png\",\r\n      img_avatar4: \"/avatar/avatar4.png\",\r\n      img_share: \"/icon/share.png\",\r\n\r\n    };\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n    const productId = route.params.id;\r\n\r\n    const state = reactive({\r\n      product: {},\r\n      similarProducts: [],\r\n    });\r\n    const itemImg = ref(null);\r\n\r\n    const isPopupVisible = ref(false);\r\n    const isOrderModalVisible = ref(false);\r\n\r\n    const orderItem = () => {\r\n      isOrderModalVisible.value = true;\r\n    };\r\n\r\n    const placeOrder = () => {\r\n      window.alert('상품을 주문하였습니다!');\r\n      router.push('/');\r\n    };\r\n\r\n    const closeOrderModal = () => {\r\n      isOrderModalVisible.value = false;\r\n    };\r\n\r\n    const openPopup = () => {\r\n      isPopupVisible.value = true;\r\n    };\r\n\r\n    const closePopup = () => {\r\n      isPopupVisible.value = false;\r\n    };\r\n\r\n    const formatPrice = (price) => {\r\n      if (!price) return '';\r\n      return price.toLocaleString(\"ko-KR\") + \"원\";\r\n    };\r\n    const getCategoryName = (categoryId) => {\r\n      const category = categories.find(cat => cat.id === categoryId);\r\n      return category ? category.name : \"Unknown Category\";\r\n    };\r\n\r\n    //const modelUrl = \"https://huggingface.co/datasets/dylanebert/3dgs/resolve/main/bonsai/bonsai-7k.splat\";\r\n    const modelUrl = \"/point_cloud.ply\";\r\n\r\n    onMounted(() => {\r\n\r\n      axios.get(`/api/items/${productId}`)\r\n        .then(({ data }) => {\r\n          state.product = data;\r\n          getSimilarProducts(data.category_id);\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error fetching product:\", error);\r\n        });\r\n      const imgSrc = `/api/items/${productId}/image`;\r\n      itemImg.value = imgSrc;\r\n\r\n    });\r\n\r\n    const getSimilarProducts = (categoryId) => {\r\n      axios.get(`/api/items/category/${categoryId}`)\r\n        .then(({ data }) => {\r\n          state.similarProducts = data;\r\n          console.log(\"data\", data);\r\n          console.log(\"state.similarProducts\", state.similarProducts);\r\n\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error fetching similar products:\", error);\r\n        });\r\n    };\r\n\r\n    return { state, itemImg, orderItem, isOrderModalVisible, placeOrder,\r\n       closeOrderModal, modelUrl, openPopup, closePopup, isPopupVisible,\r\n        formatPrice, getCategoryName };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import '../assets/css/pages/productdetail.css'\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}