<!--기존 상품 상세페이지 template -->


<div class="product-detail">
    <!-- 상품 상세 정보 -->
    <div v-if="state.product">
      <h2>{{ state.product.name }}</h2>
      <p class="description">Description: {{ state.product.description }}</p>
      <p class="price">Price: {{ state.product.price }}</p>

      <!-- 이미지 -->
      <div class="itemImg">
        <img :src="itemImg" alt="Product Image">
      </div>
      <!-- 비디오 -->
      <video v-if="state.product.video" controls style="max-width: 100%;">
        <source :src="state.product.video" type="video/mp4">
        Your browser does not support the video tag.
      </video>

    </div>

    <div v-else>
      <p>Loading...</p>
    </div>
    <button @click="orderItem" class="btn btn-primary">주문하기</button>
    <button @click="openPopup" class="btn btn-secondary">3D로 보기</button>

    <!-- 주문 확인 모달 -->
    <div v-if="isOrderModalVisible" class="modal-overlay">
      <div class="modal-content">
        <h3>주문 확인</h3>
        <p>상품을 주문하시겠습니까?</p>
        <button @click="placeOrder" class="btn btn-primary">확인</button>
        <button @click="closeOrderModal" class="btn btn-secondary">취소</button>
      </div>
    </div>


    <div v-if="isPopupVisible" class="popup-overlay">
      <div class="popup-content">
        <button @click="closePopup" class="close-btn">X</button>
        <Rendering :url="modelUrl" />
      </div>
    </div>

    <Review :productId="state.product.id" />

  </div>
